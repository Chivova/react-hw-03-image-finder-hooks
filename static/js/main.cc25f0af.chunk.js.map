{"version":3,"sources":["Modal/Modal.module.css","ImageGalleryItem/ImageGalleryItem.module.css","ImageGallery/ImageGallery.module.css","Button/Button.module.css","Searchbar/Searchbar.js","api/imgApi.js","Modal/Modal.js","ImageGalleryItem/ImageGalleryItem.js","ImageGallery/ImageGallery.js","Button/Button.js","SearchInfo/SearchInfo.js","App.js","index.js","Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","startPage","setStartPage","className","s","searchbar","e","preventDefault","trim","toast","warn","position","autoClose","searchForm","type","searchFormButton","searchFormButtonLabel","value","onChange","target","searchFormInput","autoComplete","autoFocus","placeholder","BASE_URL","API_KEY","fetchImgApi","page","fetch","then","response","ok","json","Promise","reject","Error","data","hits","propTypes","PropTypes","string","isRequired","number","imgApi","Modal","onClose","largeImageURL","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","overlay","onClick","currentTarget","modal","src","alt","ImageGalleryItem","id","webformatURL","showModal","setShowModal","toggleModal","state","imageGalleryItem","imageGalleryItemImage","ImageGallery","gallery","imageGallery","map","Button","button","SearchInfo","imageQuery","setGallery","setPage","loading","setLoading","error","setError","length","finally","scroll","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","App","setImageQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cc25f0af.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1867T\",\"modal\":\"Modal_modal__JwArj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__P6Tk_\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3aDv8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2PYXE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3n6gO\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n  const [startPage, setStartPage] = useState(1);\r\n\r\n  const handleSearchQuery = e => {\r\n    const { value } = e.target;\r\n    setQuery(value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      toast.warn('ðŸ¦„ Ð¡heck if the input is correct!', {\r\n        position: 'top-right',\r\n        autoClose: 3000,\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    setStartPage(1);\r\n    onSubmit(query, startPage);\r\n    setQuery('');\r\n  };\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.searchForm}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          value={query}\r\n          onChange={handleSearchQuery}\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '21510937-25dddef59cfdf7f1b5603f7e9';\r\n\r\nconst fetchImgApi = (query, page = 1) => {\r\n  return fetch(\r\n    `${BASE_URL}/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(response => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n      return Promise.reject(new Error(`No images found on request ${query}`));\r\n    })\r\n    .then(data => data.hits);\r\n};\r\n\r\nfetchImgApi.propTypes = {\r\n  query: PropTypes.string.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n};\r\n\r\nconst imgApi = {\r\n  fetchImgApi,\r\n};\r\n\r\nexport default imgApi;\r\n","import { useEffect } from 'react';\r\n\r\nimport s from './Modal.module.css';\r\n\r\nexport default function Modal({ onClose, largeImageURL, tags }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackDropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n  return (\r\n    <div className={s.overlay} onClick={handleBackDropClick}>\r\n      <div className={s.modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport Modal from '../Modal';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  id,\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n}) {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(state => !state);\r\n  };\r\n\r\n  return (\r\n    <li key={id} className={s.imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={toggleModal}\r\n        className={s.imageGalleryItemImage}\r\n      />\r\n      {showModal && (\r\n        <Modal\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          onClose={toggleModal}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\n// ImageGalleryItem.propTypes = {\r\n//   webformatURL: PropTypes.string.isRequired,\r\n//   largeImageURL: PropTypes.string.isRequired,\r\n// };\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ gallery }) {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {gallery.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n      webformatURL: PropTypes.string,\r\n      largeImageURL: PropTypes.string,\r\n      tags: PropTypes.string,\r\n    }),\r\n  ).isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.button} onClick={onClick} type=\"button\">\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import { Fragment, useState, useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport imgApi from '../api/imgApi';\r\nimport ImageGallery from '../ImageGallery';\r\nimport Button from '../Button';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function SearchInfo({ imageQuery, startPage }) {\r\n  const [gallery, setGallery] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (imageQuery === '' || startPage !== 1) {\r\n      return;\r\n    }\r\n    setPage(1);\r\n    setLoading(true);\r\n    imgApi\r\n      .fetchImgApi(imageQuery, startPage)\r\n      .then(response => {\r\n        if (response.length === 0) {\r\n          setError(`No images found on your request ${imageQuery}`);\r\n\r\n          toast.error(error, {\r\n            position: 'top-right',\r\n            autoClose: 3000,\r\n          });\r\n        }\r\n        setGallery([...response]);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n        // scroll();\r\n      });\r\n  }, [imageQuery, error, startPage]);\r\n\r\n  useEffect(() => {\r\n    if (imageQuery === '' || page === 1) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n\r\n    imgApi\r\n      .fetchImgApi(imageQuery, page)\r\n      .then(response => {\r\n        setGallery(state => [...state, ...response]);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n        scroll();\r\n      });\r\n  }, [imageQuery, page]);\r\n\r\n  const updatePage = () => {\r\n    setPage(page => page + 1);\r\n  };\r\n\r\n  const scroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight - 1500,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ImageGallery gallery={gallery} />\r\n      {loading && (\r\n        <Loader type=\"TailSpin\" color=\"#00BFFF\" height={50} width={50} />\r\n      )}\r\n      {gallery.length > 1 && <Button onClick={updatePage} />}\r\n    </Fragment>\r\n  );\r\n}\r\n","import { Fragment, useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport Searchbar from './Searchbar';\r\nimport SearchInfo from './SearchInfo';\r\n\r\nimport './App.css';\r\nimport 'modern-normalize/modern-normalize.css';\r\n\r\nfunction App() {\r\n  const [imageQuery, setImageQuery] = useState('');\r\n  const [startPage, setStartPage] = useState(1);\r\n\r\n  const handleFormSubmit = (query, startPage) => {\r\n    setImageQuery(query);\r\n    setStartPage(startPage);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <ToastContainer />\r\n      <Searchbar onSubmit={handleFormSubmit}></Searchbar>\r\n      <SearchInfo imageQuery={imageQuery} startPage={startPage} />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3PjYc\",\"searchForm\":\"Searchbar_searchForm__38qnY\",\"searchFormButton\":\"Searchbar_searchFormButton__1JYd2\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__35Gqd\",\"searchFormInput\":\"Searchbar_searchFormInput__snpcr\"};"],"sourceRoot":""}