(this["webpackJsonpreact-hw-03-image-finder-hooks"]=this["webpackJsonpreact-hw-03-image-finder-hooks"]||[]).push([[0],{11:function(e,t,a){e.exports={overlay:"Modal_overlay__1867T",modal:"Modal_modal__JwArj"}},12:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__P6Tk_",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__3aDv8"}},15:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2PYXE"}},16:function(e,t,a){e.exports={button:"Button_button__3n6gO"}},21:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=(a(21),a(3)),i=a(4),u=(a(13),a(5)),l=a.n(u),m=a(1);function b(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(1),b=Object(s.a)(u,2),j=b[0],h=b[1];return Object(m.jsx)("header",{className:l.a.searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(h(1),t(c,j),o("")):i.b.warn("\ud83e\udd84 \u0421heck if the input is correct!",{position:"top-right",autoClose:3e3})},className:l.a.searchForm,children:[Object(m.jsx)("button",{type:"submit",className:l.a.searchFormButton,children:Object(m.jsx)("span",{className:l.a.searchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{value:c,onChange:function(e){var t=e.target.value;o(t)},className:l.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var j=a(9),h=a(14),f=a.n(h),g=a(2),d=a.n(g),O="https://pixabay.com/api",p="21510937-25dddef59cfdf7f1b5603f7e9",_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat(O,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(p,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("No images found on request ".concat(e)))})).then((function(e){return e.hits}))};_.propTypes={query:d.a.string.isRequired,page:d.a.number.isRequired};var y={fetchImgApi:_},v=a(11),x=a.n(v);function I(e){var t=e.onClose,a=e.largeImageURL,r=e.tags;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(m.jsx)("div",{className:x.a.overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(m.jsx)("div",{className:x.a.modal,children:Object(m.jsx)("img",{src:a,alt:r})})})}var S=a(12),w=a.n(S);function F(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,c=e.tags,o=Object(n.useState)(!1),i=Object(s.a)(o,2),u=i[0],l=i[1],b=function(){l((function(e){return!e}))};return Object(m.jsxs)("li",{className:w.a.imageGalleryItem,children:[Object(m.jsx)("img",{src:a,alt:c,onClick:b,className:w.a.imageGalleryItemImage}),u&&Object(m.jsx)(I,{largeImageURL:r,tags:c,onClose:b})]},t)}var k=a(15),L=a.n(k);function G(e){var t=e.gallery;return Object(m.jsx)("ul",{className:L.a.imageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL,r=e.tags;return Object(m.jsx)(F,{webformatURL:a,largeImageURL:n,tags:r},t)}))})}var N=a(16),C=a.n(N);function E(e){var t=e.onClick;return Object(m.jsx)("button",{className:C.a.button,onClick:t,type:"button",children:"Load More"})}function R(e){var t=e.imageQuery,a=e.startPage,r=Object(n.useState)([]),c=Object(s.a)(r,2),o=c[0],u=c[1],l=Object(n.useState)(1),b=Object(s.a)(l,2),h=b[0],g=b[1],d=Object(n.useState)(!1),O=Object(s.a)(d,2),p=O[0],_=O[1],v=Object(n.useState)(null),x=Object(s.a)(v,2),I=x[0],S=x[1];Object(n.useEffect)((function(){""!==t&&1===a&&(g(1),_(!0),y.fetchImgApi(t,a).then((function(e){0===e.length&&(S("No images found on your request ".concat(t)),i.b.error(I,{position:"top-right",autoClose:3e3})),u(Object(j.a)(e))})).finally((function(){_(!1)})))}),[t,I,a]),Object(n.useEffect)((function(){""!==t&&1!==h&&(_(!0),y.fetchImgApi(t,h).then((function(e){u((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))}))})).finally((function(){_(!1),w()})))}),[t,h]);var w=function(){window.scrollTo({top:document.documentElement.scrollHeight-1500,behavior:"smooth"})};return Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(G,{gallery:o}),p&&Object(m.jsx)(f.a,{type:"TailSpin",color:"#00BFFF",height:50,width:50}),o.length>1&&Object(m.jsx)(E,{onClick:function(){g((function(e){return e+1}))}})]})}a(43),a(44);var B=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(s.a)(c,2),u=o[0],l=o[1];return Object(m.jsxs)(n.Fragment,{children:[Object(m.jsx)(i.a,{}),Object(m.jsx)(b,{onSubmit:function(e,t){r(e),l(t)}}),Object(m.jsx)(R,{imageQuery:a,startPage:u})]})};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3PjYc",searchForm:"Searchbar_searchForm__38qnY",searchFormButton:"Searchbar_searchFormButton__1JYd2",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__35Gqd",searchFormInput:"Searchbar_searchFormInput__snpcr"}}},[[45,1,2]]]);
//# sourceMappingURL=main.cc25f0af.chunk.js.map